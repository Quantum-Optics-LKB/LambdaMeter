<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Wavelength meter Angstrom WS-7</title>
        <link href='http://fonts.googleapis.com/css?family=Roboto&subset=latin,cyrillic' rel='stylesheet' type='text/css'>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <style type="text/css">
            html, body{
                font-family: 'Roboto';
                width: 100%;
                height: 100%;
                font-size: 30px;
                background: #ddd;
                overflow: hidden;
            }
            #wl{
                font-size: 100px;
                text-align: center;
                margin: auto;
            }
            #wl:after{
                content: ' nm';
            }
            .center{
                margin: auto;
                text-align: center;
            }
            .container{
                padding-top: 200px;
            }
            .label{
                color: #777;
            }
            .data{
                color: #333;
            }
        </style>
    </head>
    <body>
        <script>
        function parseData(data){
            d=JSON.parse(data);
            wl=d.wavelength.toString();
            for (var i = 0; i < (5-wl.length+wl.indexOf('.')); i++) {
                wl+='0';
            };
            $('#wl').html(wl);
        };

        ws = new WebSocket("ws://"+location.host+"/ws/");
        ws.onmessage = function(e) {
            // console.log('message received: ' + e.data);
            parseData(e.data);
        };
        </script>
        <div class="container">
            <div class="center label">Current wavelength:</div>
            <div id="wl" class="data">Loading...</div>
        </div>
    </body>
</html>